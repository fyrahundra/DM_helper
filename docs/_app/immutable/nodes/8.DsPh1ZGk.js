import{s as me,n as oe,r as pe,f as Z,o as de}from"../chunks/CDwCnrdZ.js";import{S as ve,i as be,d as f,j as K,k as C,z as ae,b as w,l as u,A as X,c as p,f as H,g as x,e as R,m as U,h as d,s as M,t as P,a as _e,y as $}from"../chunks/De2w1fqJ.js";import{e as ee}from"../chunks/D6YF6ztN.js";import{H as ge}from"../chunks/CYgJF_JY.js";function qe(a,n){throw new ge(a,n)}new TextEncoder;function re(a,n,l){const t=a.slice();return t[16]=n[l],t}function ce(a,n,l){const t=a.slice();return t[19]=n[l],t}function fe(a){let n,l=ee(a[1][a[0]]),t=[];for(let e=0;e<l.length;e+=1)t[e]=ie(ce(a,l,e));return{c(){for(let e=0;e<t.length;e+=1)t[e].c();n=$()},l(e){for(let o=0;o<t.length;o+=1)t[o].l(e);n=$()},m(e,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,o);w(e,n,o)},p(e,o){if(o&515){l=ee(e[1][e[0]]);let s;for(s=0;s<l.length;s+=1){const i=ce(e,l,s);t[s]?t[s].p(i,o):(t[s]=ie(i),t[s].c(),t[s].m(n.parentNode,n))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(e){e&&f(n),_e(t,e)}}}function ie(a){let n,l=a[19].name+"",t,e,o;function s(){return a[13](a[19])}return{c(){n=d("button"),t=P(l),this.h()},l(i){n=p(i,"BUTTON",{class:!0});var z=H(n);t=U(z,l),z.forEach(f),this.h()},h(){C(n,"class","item svelte-1nq916z")},m(i,z){w(i,n,z),u(n,t),e||(o=X(n,"mousedown",s),e=!0)},p(i,z){a=i,z&3&&l!==(l=a[19].name+"")&&K(t,l)},d(i){i&&f(n),e=!1,o()}}}function ue(a){let n,l=ee(a[3]),t=[];for(let e=0;e<l.length;e+=1)t[e]=he(re(a,l,e));return{c(){for(let e=0;e<t.length;e+=1)t[e].c();n=$()},l(e){for(let o=0;o<t.length;o+=1)t[o].l(e);n=$()},m(e,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,o);w(e,n,o)},p(e,o){if(o&24){l=ee(e[3]);let s;for(s=0;s<l.length;s+=1){const i=re(e,l,s);t[s]?t[s].p(i,o):(t[s]=he(i),t[s].c(),t[s].m(n.parentNode,n))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(e){e&&f(n),_e(t,e)}}}function he(a){let n,l=a[16].name+"",t,e,o,s,i,z,k=a[16].duration+"",y,q,E,j,N,O,A=a[16].casting_time+"",F,V,_,v,h,D="Description:",B,S,T,I=(a[4]?a[16].desc:"...")+"",L,J,Q;return{c(){n=d("h2"),t=P(l),e=M(),o=d("br"),s=M(),i=d("h3"),z=P("Duration: "),y=P(k),q=M(),E=d("br"),j=M(),N=d("h3"),O=P("Cast time: "),F=P(A),V=M(),_=d("br"),v=M(),h=d("h3"),h.textContent=D,B=M(),S=d("p"),T=d("button"),L=P(I),this.h()},l(r){n=p(r,"H2",{class:!0});var c=H(n);t=U(c,l),c.forEach(f),e=R(r),o=p(r,"BR",{class:!0}),s=R(r),i=p(r,"H3",{class:!0});var b=H(i);z=U(b,"Duration: "),y=U(b,k),b.forEach(f),q=R(r),E=p(r,"BR",{class:!0}),j=R(r),N=p(r,"H3",{class:!0});var m=H(N);O=U(m,"Cast time: "),F=U(m,A),m.forEach(f),V=R(r),_=p(r,"BR",{class:!0}),v=R(r),h=p(r,"H3",{class:!0,"data-svelte-h":!0}),x(h)!=="svelte-1nr5fbk"&&(h.textContent=D),B=R(r),S=p(r,"P",{class:!0});var g=H(S);T=p(g,"BUTTON",{});var G=H(T);L=U(G,I),G.forEach(f),g.forEach(f),this.h()},h(){C(n,"class","svelte-1nq916z"),C(o,"class","svelte-1nq916z"),C(i,"class","svelte-1nq916z"),C(E,"class","svelte-1nq916z"),C(N,"class","svelte-1nq916z"),C(_,"class","svelte-1nq916z"),C(h,"class","svelte-1nq916z"),C(S,"class","svelte-1nq916z")},m(r,c){w(r,n,c),u(n,t),w(r,e,c),w(r,o,c),w(r,s,c),w(r,i,c),u(i,z),u(i,y),w(r,q,c),w(r,E,c),w(r,j,c),w(r,N,c),u(N,O),u(N,F),w(r,V,c),w(r,_,c),w(r,v,c),w(r,h,c),w(r,B,c),w(r,S,c),u(S,T),u(T,L),J||(Q=X(T,"click",a[14]),J=!0)},p(r,c){c&8&&l!==(l=r[16].name+"")&&K(t,l),c&8&&k!==(k=r[16].duration+"")&&K(y,k),c&8&&A!==(A=r[16].casting_time+"")&&K(F,A),c&24&&I!==(I=(r[4]?r[16].desc:"...")+"")&&K(L,I)},d(r){r&&(f(n),f(e),f(o),f(s),f(i),f(q),f(E),f(j),f(N),f(V),f(_),f(v),f(h),f(B),f(S)),J=!1,Q()}}}function we(a){let n,l,t="Monsters and Spells",e,o,s,i,z,k,y,q,E,j="←",N,O,A=a[0]+1+"",F,V,_=a[1].length+"",v,h,D,B="→",S,T,I,L,J,Q,r,c=a[1][a[0]]&&fe(a),b=a[3]&&ue(a);return{c(){n=d("main"),l=d("h1"),l.textContent=t,e=M(),o=d("section"),s=d("button"),i=P(a[2]),z=M(),k=d("div"),c&&c.c(),y=M(),q=d("div"),E=d("button"),E.textContent=j,N=M(),O=d("p"),F=P(A),V=P("/"),v=P(_),h=M(),D=d("button"),D.textContent=B,S=M(),T=d("section"),I=d("article"),b&&b.c(),this.h()},l(m){n=p(m,"MAIN",{class:!0});var g=H(n);l=p(g,"H1",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1vywyb9"&&(l.textContent=t),e=R(g),o=p(g,"SECTION",{class:!0});var G=H(o);s=p(G,"BUTTON",{});var te=H(s);i=U(te,a[2]),te.forEach(f),z=R(G),k=p(G,"DIV",{class:!0});var le=H(k);c&&c.l(le),le.forEach(f),y=R(G),q=p(G,"DIV",{class:!0});var W=H(q);E=p(W,"BUTTON",{"data-svelte-h":!0}),x(E)!=="svelte-ctpqr8"&&(E.textContent=j),N=R(W),O=p(W,"P",{});var Y=H(O);F=U(Y,A),V=U(Y,"/"),v=U(Y,_),Y.forEach(f),h=R(W),D=p(W,"BUTTON",{"data-svelte-h":!0}),x(D)!=="svelte-1dg3eyp"&&(D.textContent=B),W.forEach(f),G.forEach(f),S=R(g),T=p(g,"SECTION",{class:!0,style:!0});var se=H(T);I=p(se,"ARTICLE",{class:!0});var ne=H(I);b&&b.l(ne),ne.forEach(f),se.forEach(f),g.forEach(f),this.h()},h(){C(l,"class","header svelte-1nq916z"),C(k,"class","grid svelte-1nq916z"),C(q,"class","turn svelte-1nq916z"),C(o,"class","container svelte-1nq916z"),C(I,"class",L=Z(a[5]?"info":"")+" svelte-1nq916z"),C(T,"class",J=Z(a[5]?"page":"")+" svelte-1nq916z"),ae(T,"rotate",a[6]+Math.random()*5+"deg"),C(n,"class","svelte-1nq916z")},m(m,g){w(m,n,g),u(n,l),u(n,e),u(n,o),u(o,s),u(s,i),u(o,z),u(o,k),c&&c.m(k,null),u(o,y),u(o,q),u(q,E),u(q,N),u(q,O),u(O,F),u(O,V),u(O,v),u(q,h),u(q,D),u(n,S),u(n,T),u(T,I),b&&b.m(I,null),Q||(r=[X(s,"mousedown",a[12]),X(E,"click",a[11]),X(D,"click",a[10])],Q=!0)},p(m,[g]){g&4&&K(i,m[2]),m[1][m[0]]?c?c.p(m,g):(c=fe(m),c.c(),c.m(k,null)):c&&(c.d(1),c=null),g&1&&A!==(A=m[0]+1+"")&&K(F,A),g&2&&_!==(_=m[1].length+"")&&K(v,_),m[3]?b?b.p(m,g):(b=ue(m),b.c(),b.m(I,null)):b&&(b.d(1),b=null),g&32&&L!==(L=Z(m[5]?"info":"")+" svelte-1nq916z")&&C(I,"class",L),g&32&&J!==(J=Z(m[5]?"page":"")+" svelte-1nq916z")&&C(T,"class",J),g&64&&ae(T,"rotate",m[6]+Math.random()*5+"deg")},i:oe,o:oe,d(m){m&&f(n),c&&c.d(),b&&b.d(),Q=!1,pe(r)}}}function ze(a,n,l){let t=0,e=[],o="spells",s,i=!1,z=!1,k="",y="-";de(()=>{(async()=>{l(1,e=await E(o)),console.log("Result:",e),q(e)})()});function q(_){let v=[],h=[],D=[];for(let B=1;B<=_.length;B++)v.push(_[B-1]),v=v,B%24==0?(h.push(v),h=h,v=[]):B>=312&&D.push(_[B-1]);h.push(D),h=h,D=[],l(1,e=[...h]),console.log(e)}async function E(_){const v=await fetch("https://www.dnd5eapi.co/api/2014/"+_);if(v.status!=200)throw qe(v.status,{message:v.statusText});const h=await v.json();return console.log("Fetched data:",h),console.log("Fetched .result:",h.results),Array.isArray(h.results)?[...h.results]:h?[h]:[]}async function j(_){l(3,s=await E(o+"/"+_.index)),console.log(s),l(4,i=!1),Math.random()>.5?l(6,y=""):l(6,y="-"),(_.name!=k||k=="")&&(l(5,z=!1),setTimeout(function(){l(5,z=!0)},10),console.log("played")),k=_.name}function N(){l(0,t+=1),t+1>e.length&&l(0,t=e.length-1),t<0&&l(0,t=0)}function O(){l(0,t-=1),t<0&&l(0,t=0)}return[t,e,o,s,i,z,y,q,E,j,N,O,()=>{o=="spells"?l(2,o="monsters"):o=="monsters"&&l(2,o="spells"),(async()=>{l(1,e=await E(o)),console.log("Result:",e),q(e)})()},_=>j(_),()=>{l(4,i=!i)}]}class Ne extends ve{constructor(n){super(),be(this,n,ze,we,me,{})}}export{Ne as component};
