import{s as ee,n as W,r as te,o as se,i as le}from"../chunks/Bhdw2LPp.js";import{S as ne,i as oe,d as p,j,b as G,l as r,A as q,k as E,c as _,f as w,g as z,e as O,m as B,h as m,s as A,t as S,a as ae,y as X}from"../chunks/CgwVxDEi.js";import{e as Y}from"../chunks/D6YF6ztN.js";import{H as re}from"../chunks/CYgJF_JY.js";function ie(a,l){throw new re(a,l)}new TextEncoder;function Z(a,l,o){const e=a.slice();return e[8]=l[o],e}function x(a){let l,o=Y(a[1][a[0]]),e=[];for(let s=0;s<o.length;s+=1)e[s]=$(Z(a,o,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=X()},l(s){for(let n=0;n<e.length;n+=1)e[n].l(s);l=X()},m(s,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].m(s,n);G(s,l,n)},p(s,n){if(n&19){o=Y(s[1][s[0]]);let t;for(t=0;t<o.length;t+=1){const i=Z(s,o,t);e[t]?e[t].p(i,n):(e[t]=$(i),e[t].c(),e[t].m(l.parentNode,l))}for(;t<e.length;t+=1)e[t].d(1);e.length=o.length}},d(s){s&&p(l),ae(e,s)}}}function $(a){let l,o=a[8].name+"",e,s,n;return{c(){l=m("button"),e=S(o),this.h()},l(t){l=_(t,"BUTTON",{class:!0});var i=w(l);e=B(i,o),i.forEach(p),this.h()},h(){E(l,"class","item svelte-18y5dl5")},m(t,i){G(t,l,i),r(l,e),s||(n=q(l,"mousedown",function(){le(a[4](a[8]))&&a[4](a[8]).apply(this,arguments)}),s=!0)},p(t,i){a=t,i&3&&o!==(o=a[8].name+"")&&j(e,o)},d(t){t&&p(l),s=!1,n()}}}function ue(a){let l,o,e="Monsters and Spells",s,n,t,i,k,v,U,f,h,g="←",D,b,N=a[0]+1+"",H,F,I=a[1].length+"",M,V,y,J="→",R,K,u=a[1][a[0]]&&x(a);return{c(){l=m("main"),o=m("h1"),o.textContent=e,s=A(),n=m("section"),t=m("button"),i=S(a[2]),k=A(),v=m("div"),u&&u.c(),U=A(),f=m("div"),h=m("button"),h.textContent=g,D=A(),b=m("p"),H=S(N),F=S("/"),M=S(I),V=A(),y=m("button"),y.textContent=J,this.h()},l(c){l=_(c,"MAIN",{class:!0});var d=w(l);o=_(d,"H1",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-1vywyb9"&&(o.textContent=e),s=O(d),n=_(d,"SECTION",{class:!0});var C=w(n);t=_(C,"BUTTON",{});var L=w(t);i=B(L,a[2]),L.forEach(p),k=O(C),v=_(C,"DIV",{class:!0});var Q=w(v);u&&u.l(Q),Q.forEach(p),U=O(C),f=_(C,"DIV",{class:!0});var T=w(f);h=_(T,"BUTTON",{"data-svelte-h":!0}),z(h)!=="svelte-ctpqr8"&&(h.textContent=g),D=O(T),b=_(T,"P",{});var P=w(b);H=B(P,N),F=B(P,"/"),M=B(P,I),P.forEach(p),V=O(T),y=_(T,"BUTTON",{"data-svelte-h":!0}),z(y)!=="svelte-1dg3eyp"&&(y.textContent=J),T.forEach(p),C.forEach(p),d.forEach(p),this.h()},h(){E(o,"class","header svelte-18y5dl5"),E(v,"class","grid svelte-18y5dl5"),E(f,"class","turn svelte-18y5dl5"),E(n,"class","container svelte-18y5dl5"),E(l,"class","svelte-18y5dl5")},m(c,d){G(c,l,d),r(l,o),r(l,s),r(l,n),r(n,t),r(t,i),r(n,k),r(n,v),u&&u.m(v,null),r(n,U),r(n,f),r(f,h),r(f,D),r(f,b),r(b,H),r(b,F),r(b,M),r(f,V),r(f,y),R||(K=[q(t,"mousedown",a[7]),q(h,"click",a[6]),q(y,"click",a[5])],R=!0)},p(c,[d]){d&4&&j(i,c[2]),c[1][c[0]]?u?u.p(c,d):(u=x(c),u.c(),u.m(v,null)):u&&(u.d(1),u=null),d&1&&N!==(N=c[0]+1+"")&&j(H,N),d&2&&I!==(I=c[1].length+"")&&j(M,I)},i:W,o:W,d(c){c&&p(l),u&&u.d(),R=!1,te(K)}}}function fe(a,l,o){let e=0,s=[],n="spells";se(()=>{o(1,s=t(n)),console.log("Result:",s)});async function t(f){const h=await fetch("https://www.dnd5eapi.co/api/2014/"+f);if(h.status!=200)throw ie(h.status,{message:h.statusText});const g=await h.json();return console.log("Fetched data:",g),console.log("Fetched .result:",g.results),Array.isArray(g.results)?[...g.results]:g?[g]:[]}async function i(f){await t(n+"/"+f.index)}function k(){o(0,e+=1),e+1>s.length&&o(0,e=s.length-1),e<0&&o(0,e=0)}function v(){o(0,e-=1),e<0&&o(0,e=0)}return[e,s,n,t,i,k,v,()=>{n=="spells"?o(2,n="monsters"):n=="monsters"&&o(2,n="spells"),t(n)}]}class me extends ne{constructor(l){super(),oe(this,l,fe,ue,ee,{})}}export{me as component};
